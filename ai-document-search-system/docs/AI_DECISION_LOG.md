| Aşama | Kullanılan YZ | YZ Önerisi | Nihai Karar | Gerekçe |
|------|---------------|-----------|-------------|---------|
| Analiz | ChatGPT | Proje gereksinimlerinin (PRD) yapılandırılması ve proje kapsamının belirlenmesi | Kabul edildi | ChatGPT, BİL440 proje PDF'inden hareketle Product Requirements Document (PRD) oluşturulmasında yardımcı oldu. Gereksinimler, zorunlu özellikler ve kapsam dışı konular netleştirildi. |
| Analiz | Gemini | Mimari yaklaşım önerileri ve sistem bileşenlerinin tanımlanması | Kısmen kabul edildi | Gemini, sistemin genel mimarisini (Frontend, Backend API, Document Storage, Vector Store, LLM) önerdi. Ancak AI kullanım sınırları insan kararıyla netleştirildi: PDF parsing, text cleaning, chunking ve keyword search'te AI kullanılmayacak. |
| Analiz | ChatGPT | AI kullanım sınırlarının belirlenmesi (hangi adımlarda AI kullanılacak/kullanılmayacak) | Kabul edildi ancak revize edildi | ChatGPT, AI'ın tüm süreçte kullanılmasını önerdi. Ancak projenin temel felsefesine uygun olarak deterministik işlemler (PDF parsing, keyword search, kaynak atfı) bilinçli olarak AI dışı bırakıldı. Bu karar JOINT_DECISIONS.md'de belgelendi. |
| Analiz | Gemini | Test stratejisi ve bilinçli hata senaryosu tasarımı | Kabul edildi | Gemini, unit testler, edge-case senaryoları ve AI hallucination tespiti için test yaklaşımı önerdi. Özellikle "dokümanda olmayan bilgi sorulduğunda AI'ın uydurma yapması" senaryosu kabul edildi. |
| Analiz | ChatGPT | Proje iş bölüşümü ve paralel geliştirme stratejisi | Kabul edildi | ChatGPT, GitHub branch stratejisi (main, develop, feature branches) ve commit mesajı standartlarını önerdi. [AI-generated], [AI-assisted], [Human-written] etiketleme yaklaşımı benimsendi. |
| Analiz | Claude Code | Mevcut dokümanların analizi ve proje gereksinimlerinin özeti | Kabul edildi | Claude Code, oluşturulan tüm analiz dokümanlarını (PRD, ARCHITECTURE, TEST_STRATEGY, RULES, WORK_SHARING) okuyarak projenin genel resmini netleştirdi ve Kişi A'nın (backend developer) sorumluluklarını özetledi. |
| Tasarım | Gemini | Backend klasör yapısı için minimal services/ tabanlı yapı önerdi (data/, app/services/, app/routers/, app/models/) | Kısmen kabul edildi - Hibrit yaklaşım | Gemini'nin basit ve anlaşılır klasör yapısı tercih edildi çünkü AI vs klasik kod ayrımını dosya bazında net gösteriyor. Ancak Claude'un extracted/ klasörü önerisi eklendi (text caching için). |
| Tasarım | Claude Code | Daha katmanlı mimari önerdi (core/, storage/, api/ ayrımı) ve API versiyonlama (/api/v1/) | Kısmen kabul edildi - Hibrit yaklaşım | Claude'un API versiyonlama önerisi kabul edildi (gelecek uyumluluk için). storage/ katmanı yerine Gemini'nin data/ yapısı tercih edildi (proje kapsamı için yeterli). core/ yerine services/ kullanıldı (daha anlaşılır). |
| Tasarım | Gemini | FastAPI endpoint yapısı: /upload, /search, /summarize, /qa | Kabul edildi ancak revize edildi | Endpoint isimleri kabul edildi ancak Claude'un önerisiyle /api/v1/ prefix'i eklendi. Ayrıca response formatları zenginleştirildi (confidence, model_used gibi alanlar eklendi). |
| Tasarım | Gemini, Claude | Python kütüphane seçimi – Her iki AI da ücretli LLM SDK'ları önerdi (OpenAI, Anthropic, Google Gemini) | Reddedildi – İnsan kararı ile değiştirildi | OpenAI ve Anthropic API kullanım maliyeti nedeniyle reddedildi; Gemini'nin ücretsiz katmanı/rate limitleri proje testlerini kısıtlayabilir. Bu nedenle, demo ve karşılaştırma için Groq API tercih edildi (hızlı, uygun maliyetli/ücretsiz katman ile bazı modelleri deneme imkânı). Yerel model çalıştırma (Ollama vb.) ise kurulum/performans ve zaman kısıtı nedeniyle kapsam dışı bırakıldı. Bu karar, AI önerilerinin maliyet–fayda analizi ile değerlendirilerek reddedilmesine örnektir. |
| **Geliştirme** | **Gemini, GitHub Copilot, Claude Code** | **LLM service implementation (llm_service.py) - KRITIK DOSYA** | **Hibrit yaklaşım - Üç AI'ın en iyi özelliklerini birleştir** | **DETAYLI ANALIZ:** <br>**Gemini:** Doğru Groq API kullanımı (`client.chat.completions.create()`), specific exception handling (RateLimitError, APIError), logging dahil. Kod temiz ve okunabilir. <br>**GitHub Copilot:** YANLIŞ API kullanımı (`client.generate()` metodu Groq SDK'da YOK - **BU PROJENIN GEREKLI AI HALLUCINATION ÖRNEGIDIR**). Ancak mükemmel fikirler: `NO_ANSWER_TEXT` constant (hallucination önleme), temperature=0.0 for QA (deterministik yanıt). <br>**Claude Code:** Class-based yapı (maintainable), variable temperature (0.3 for short summary, 0.7 for detailed, 0.0 for QA), strict system prompts ("ONLY use context"). <br>**FINAL HIBRIT KARAR:** Gemini'nin doğru API syntax'ı + Copilot'un NO_ANSWER_TEXT constant ve temperature=0.0 fikri + Claude'un class yapısı ve strict prompt engineering yaklaşımı birleştirildi. RAG sistemlerinde hallucination'ı önlemek için temperature=0.0 ve "context-only" system prompt kritik öneme sahip. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Framework ve Build Tool Seçimi** | **React + Vite kabul edildi** | **Üç AI de React + Vite önerdi.** <br>**Gemini:** TypeScript eklenmesini önerdi (backend tip güvenliği için). <br>**ChatGPT:** CRA deprecated olduğunu belirtti, Vite önerdi. <br>**Copilot:** Vite'ın SPA için basit ve hızlı olduğunu vurguladı. <br>**NİHAİ KARAR:** React + Vite kabul edildi. TypeScript önerisi değerlendirilecek (projeye bağlı). |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **State Management (Context API vs Redux vs React Query)** | **Context API kabul edildi - Copilot'un React Query önerisi reddedildi** | **KRİTİK ÇELİŞKİ TESPİT EDİLDİ:** <br>**Gemini:** Context API yeterli (doğru). <br>**ChatGPT:** Context API + Local State hibrit yaklaşımı (doğru). <br>**Copilot:**  React Query (TanStack Query) önerdi - **YANLIŞ!** Proje küçük, server-state caching gereksiz. <br>**NİHAİ KARAR:** Context API kullanılacak. Copilot'un overkill önerisi reddedildi. Bu, AI'ın proje ölçeğini yanlış değerlendirmesi örneğidir. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **API Çağrısı Yöntemi (fetch vs axios vs React Query)** | **Native fetch() kabul edildi - Gemini ve Copilot'un React Query önerisi reddedildi** | **BÜYÜK AI HATASI - GEMİNİ TUTARSIZLIK:** <br>**Gemini:**  React Query + Axios önerdi. ANCAK bir önceki soruda "Context API yeterli" demişti. React Query zaten bir state management çözümüdür - **bu iki öneri çelişiyor!** **BU PROJENİN İKİNCİ AI HALLUCINATION ÖRNEĞİDİR.** <br>**ChatGPT:**  Native fetch() yeterli, ekstra bağımlılık gereksiz (doğru). <br>**Copilot:**  React Query + fetch önerdi (overkill). <br>**NİHAİ KARAR:** ChatGPT'nin önerisi kabul edildi. Native fetch() kullanılacak. Gemini'nin tutarsız önerileri ve Copilot'un overkill yaklaşımı reddedildi. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **UI Framework/CSS Yaklaşımı (Tailwind vs Material UI vs Bootstrap)** | **Tailwind CSS kabul edildi - Gemini'nin Material UI önerisi reddedildi** | **Gemini:**  Material UI (MUI) önerdi. Gerekçe: "akademik görünüm". Ancak proje küçük, MUI ağır ve overkill. <br>**ChatGPT:**  Tailwind CSS (hafif, esnek, hızlı). <br>**Copilot:**  Tailwind + Headless UI / Radix (esnek, modern). <br>**NİHAİ KARAR:** Tailwind CSS kullanılacak. Gemini'nin "akademik görünüm için MUI şart" yaklaşımı yanlış - Tailwind ile de profesyonel tasarım yapılabilir. Bu, AI'ın gereksiz kütüphane önermesi örneğidir. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **File Upload UI (Native input vs react-dropzone vs Custom)** | **Native input + Custom drag & drop kabul edildi - Gemini ve Copilot'un react-dropzone önerisi reddedildi** | **Gemini:**  react-dropzone kütüphanesi önerdi. <br>**ChatGPT:**  Native `<input>` + 10-15 satır custom drag & drop (ekstra bağımlılık yok). <br>**Copilot:**  react-dropzone önerdi. <br>**NİHAİ KARAR:** ChatGPT'nin hybrid yaklaşımı kabul edildi. Basit drag & drop için 300kb+ kütüphane gereksiz. Native HTML + minimal JS yeterli. Bu, AI'ların gereksiz bağımlılık önerme eğilimini gösterir. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Arama UX (Debouncing vs Enter vs Button)** | **Enter tuşu + Arama butonu kabul edildi** | **Gemini:**  Enter + Button (backend performansı için debounce uygun değil). <br>**ChatGPT:**  Enter + Button (kontrollü arama, akademik davranış). <br>**Copilot:**  Debounce + Enter + Button (karışık, overkill). <br>**NİHAİ KARAR:** Enter + Button kullanılacak. Backend TF-IDF/Vector Search ağır işlemler yapacağı için debouncing ile gereksiz yük bindirilmemeli. Gemini ve ChatGPT bu noktayı doğru tespit etti. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **AI Loading State (Spinner vs Skeleton vs "Thinking..." animasyonu)** | **"Thinking..." animasyonu kabul edildi - Copilot'un skeleton önerisi reddedildi** | **Gemini:**  "Thinking..." + pulse animasyonu (AI cevabı için uygun). <br>**ChatGPT:**  "Thinking..." + küçük spinner (belirsiz süre için ideal). <br>**Copilot:**  Skeleton screen + typing animasyon önerdi. **YANLIŞ!** Skeleton screen, yapının bilindiği veriler içindir (tablo, profil kartı). AI cevabının kaç cümle olacağı bilinmez - skeleton yanıltıcı olur. <br>**NİHAİ KARAR:** "AI yanıtı hazırlanıyor..." metni + hafif animasyon kullanılacak. Copilot'un skeleton önerisi yanlış kullanım örneğidir. |
| **Geliştirme - Frontend** | **Claude Code** | **Tailwind CSS 4.x PostCSS Konfigürasyonu** | **REDDEDİLDİ - YANLIŞ KONFİGÜRASYON - ÜÇÜNCÜ AI HALLUCINATION ÖRNEĞİ** | **HATA TESPİTİ:** Claude Code, Tailwind CSS 4.x kurulumunda eski PostCSS yapılandırmasını kullandı (`postcss.config.js` içinde `tailwindcss: {}` plugin). **ANCAK** Tailwind CSS 4.x, PostCSS plugin'ini ayrı bir pakete taşıdı (`@tailwindcss/postcss`). <br>**SONUÇ:** Frontend başlatıldığında Vite hata verdi: "It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package." <br>**DÜZELTME:** `npm install -D @tailwindcss/postcss` kuruldu ve `postcss.config.js` dosyası `'@tailwindcss/postcss': {}` olarak güncellendi. <br>**DERS:** AI'lar versiyon değişikliklerini (breaking changes) her zaman doğru takip edemez. Resmi dokümantasyon kontrolü kritik önem taşır. **BU PROJENİN ÜÇÜNCÜ AI HALLUCINATION ÖRNEĞİDİR.** |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Genel Tasarım Yaklaşımı ve Konsepti** | **Kabul edildi - 3 AI anlaştı** | **ÜÇ AI DE AYNI FİKİRDE:** <br>**Gemini:** "Cognitive Minimalism" (Bilişsel Minimalizm) - içerik odaklı, sade, akademik. <br>**ChatGPT:** "Akademik okuma ve sorgulama sürecini destekleyen, sade, dikkat dağıtmayan ve güven veren bir arayüz." <br>**Copilot:** "Güvenilir, Açıklanabilir ve Hızlı Belge Arama - Minimal ve odaklı UI." <br>**NİHAİ KARAR:** "Cognitive Minimalism" felsefesi kabul edildi. İçerik öncelikli, minimal gürültü, akademik ve profesyonel görünüm. Bu yaklaşım tüm tasarım kararlarının temelini oluşturacak. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Renk Paleti Seçimi** | **ÜÇ AI'NIN ÖNERİSİ DE REDDEDİLDİ - İnsan kararı ile 2025 trend renk paleti seçildi** | **KRİTİK ÇELİŞKİ TESPİT EDİLDİ:** <br>**Gemini:**  Indigo-Purple (`indigo-600` + `violet-500` AI vurgusu) - "AI ve derin öğrenme"yi temsil eder, modern ve sofistike. <br>**ChatGPT:**  Indigo-Purple'ı REDDETTİ - "Startup hissi verir", "akademik ciddiyeti zayıflatır", "fazla tech product gibi durur".  Klasik Mavi-Beyaz (`blue-700`, `slate-800`) önerdi - güven, tarafsızlık, kurumsallık. <br>**Copilot:**  Klasik Mavi-Beyaz birinci seçenek, Indigo-Purple alternatif olarak. <br>**İNSAN KARARI:** **Üç AI'nın önerisi de reddedildi.** 2025-2026 web tasarım trendleri araştırıldı. Sürdürülebilirlik, doğa ve güven temalarını birleştiren **Ocean Blue + Sand (#5 Trend Palet)** seçildi: Ana renkler `amber-50/100/200` (kum rengi zemin), vurgu rengi `teal-700/800` (okyanus mavisi). <br>**GEREKÇE:** AI'lar "klasik mavi" veya "modern indigo" ikilemine takıldı. Ancak 2025 trendleri, toprak tonları + doğa renkleriyle güvenilirlik ve sürdürülebilirlik mesajı veren paletlerin öne çıktığını gösteriyor. Bu karar, AI önerilerinin ötesine geçip güncel tasarım trendlerini araştırma örneğidir. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Doküman Kartı Tasarım Stili** | **Kabul edildi - 3 AI anlaştı, 2025 Quiet UI trendi ile iyileştirildi** | **ÜÇ AI DE AYNI FİKİRDE:** Minimal kart stili (ince border, hafif shadow, rounded-md/xl). <br>**Gemini:**  `border-slate-200`, `rounded-xl`, `hover:shadow-md`, `hover:border-indigo-300`. <br>**ChatGPT:**  `border-slate-200`, `rounded-md`, `hover:shadow-sm`. <br>**Copilot:**  `border-gray-200`, `rounded-md`, `hover:shadow-md`, `hover:-translate-y-0.5`. <br>**ÜÇ AI NEDEN REDDETTİ:** Glassmorphism (okunabilirlik düşer), Material Design (fazla baskın shadow), Modern gradient (dikkat dağıtıcı). <br>**NİHAİ KARAR:** Minimal kart stili kabul edildi, ancak **2025 "Quiet UI" trendi** eklendi: Default durumda border **çok hafif** (`border-amber-100` - neredeyse görünmez), hover'da border renklenir + shadow (`border-teal-200`, `shadow-md`). Radius `rounded-lg` (md çok sert, xl çok yuvarlak). Kartlar "sessiz durur, etkileşimde canlanır" - bu daha modern yaklaşım. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Sayfa İçi Boşluklar (Spacing/Whitespace)** | **ChatGPT ve Copilot'un önerisi kabul edildi, Gemini'nin önerisi reddedildi - Responsive spacing eklendi** | **ÇELİŞKİ TESPİT EDİLDİ:** <br>**Gemini:**  Daha geniş boşluk - `space-y-8`'i `space-y-12/16`'ya çıkar (48-64px) - "Modern web nefes alan arayüz ister", "akademik okuma cömert boşluk gerektirir", "premium hissi verir". <br>**ChatGPT:**  Daha sıkı boşluk - `space-y-8`'i `space-y-6`'ya düşür (32px → 24px) - "Çok doküman listelenecek, scroll verimliliği önemli", "8 landing page için, 6 dashboard için", "akademik kullanıcı = hızlı tarama, çok içerik". <br>**Copilot:**  Responsive spacing - `space-y-6 sm:space-y-8` - mobilde kompakt, masaüstünde ferah. <br>**NİHAİ KARAR:** ChatGPT ve Copilot haklı. **Gemini'nin "premium ferah boşluk" önerisi reddedildi.** Projede çok doküman listelenecek, kullanıcılar hızlı tarama yapacak. `space-y-8` fazla lüks, scroll yorucu olur. **2025 trend:** Responsive spacing kullanılacak: `space-y-4` (mobil), `space-y-6` (desktop), `space-y-8` (XL ekran). Aynı mantık padding için de uygulanacak: `py-6 px-4 sm:px-6 lg:px-8`. |
| **Tasarım - Frontend** | **Gemini, ChatGPT, GitHub Copilot** | **Font Ailesi Seçimi** | **Gemini'nin "tek font" önerisi kabul edildi, ChatGPT'nin "font pairing" önerisi reddedildi - ANCAK font seçiminde üçü de reddedildi, 2025 trend font seçildi** | **ÇELİŞKİ TESPİT EDİLDİ:** <br>**PAIRING KARARI:** <br>**Gemini:**  Tek font ailesi (Inter) - hız, farklı ağırlıklar (Bold, Medium, Regular) hiyerarşiyi kurmaya yeter. <br>**ChatGPT:**  Font pairing - Serif body (`Merriweather`/`Lora`) + Sans-serif heading (`Inter`) - "uzun okumada konforlu, akademik his". <br>**Copilot:**  İkisi de tamam - tek font basit, pairing akademik his verir. <br>**PAIRING KARARI SONUÇ:** **ChatGPT'nin "Serif + Sans pairing" önerisi reddedildi.** 2025 trend tek font ailesi (variable font ile ağırlık esnekliği), 2 font performansı düşürür, modern sistemler (Notion, Linear, GitHub) tek sans-serif kullanır. <br><br>**FONT SEÇİMİ:** <br>**Gemini:**  `Inter` - bilgisayar ekranlarında okunabilirlik için özel tasarım, yüksek x-height, Notion/GitHub/OpenAI kullanır. <br>**ChatGPT:**  `Inter` (heading) + `Merriweather` (body) - ancak pairing reddedildiği için sadece Inter önerisi kaldı. <br>**Copilot:**  `Inter` (variable) - yüksek x-height, ekrana optimize, 2025 trendleri (variable fonts, performans odaklı). <br>**İNSAN KARARI:** **Üç AI de "Inter" önerdi ama reddedildi.** 2025 trend araştırması yapıldı. **Vercel'in yeni fontu `Geist`** seçildi (Inter'in modernleşmiş hali, geometric, 2025 trend, Vercel/Next.js ekosisteminde standart). <br>**GEREKÇE:** Inter popüler ve güvenli ama artık "varsayılan" hissettiriyor (herkes kullanıyor). Geist daha taze, modern ve 2025-2026 trendlerine uygun. Self-hosting için `@fontsource/geist-sans` kullanılacak (performans optimizasyonu). <br><br>**PERFORMANS KARARI:** <br>**ÜÇ AI DE ANLAŞTI:** Google Fonts performansı etkiler, çözüm self-hosting (NPM `@fontsource`), sadece gerekli weight'leri yükle, `font-display: swap` kullan. <br><br>**TAILWIND DEFAULT STACK KARARI:** <br>**ÜÇ AI DE ANLAŞTI:** System font stack performans için iyi ama tutarsız (Mac'te San Francisco, Windows'ta Segoe UI). Akademik "ürün" hissi için özel font şart. Yeterli ama ideal değil. |
| **Geliştirme - Backend** | **Gemini, GitHub Copilot, Claude Code** | **AI Router - Summarize Endpoint (POST /api/v1/ai/summarize)** | **Hibrit yaklaşım** | **Gemini:**  Clean code, try-except blokları düzgün.  **KRİTİK HATA**: `DATA_DIR = Path("data/extracted")` relative path! `settings.extracted_dir` kullanmalıydı. <br>**Copilot:**  Helper fonksiyon önerisi (`load_extracted_text`) - ancak YOK (hallucination).  `model_used` field (transparency).  Over-engineering: `confidence` field. <br>**Claude:**  **DOĞRU**: `settings.extracted_dir` kullanımı.  Empty text check (edge case).  Proper error handling (404, 400, 500). <br>**NİHAİ KARAR:** Claude'un doğru path usage + Gemini'nin clean structure. Copilot'un hallucination reddedildi. |
| **Geliştirme - Backend** | **Gemini, GitHub Copilot, Claude Code** | **AI Router - Q&A/RAG Endpoint (POST /api/v1/ai/qa)** | **Hibrit yaklaşım - Copilot'un bir hallucination'ı daha tespit edildi** | **Gemini:**  **YANLIŞ VARSAYIM**: Search service'in `text` field döndürdüğünü varsaydı. Search sadece `doc_id`/`score` döndürür, text ayrıca okunmalı.  Sources sadece `List[str]` - metadata eksik. <br>**Copilot:**  **NO_ANSWER_TEXT constant** - Mükemmel! Hallucination önleme.  `_load_metadata()` helper - DRY principle.  **`excerpt` field in QASource** - UX için harika (kullanıcı cevabın nereden geldiğini görür).  **HALLUCINATION**: `from app.services.pdf_service import load_extracted_text` - Bu fonksiyon YOK! <br>**Claude:**  **RAG pipeline DOĞRU**: TF-IDF search → file read → context build → LLM.  `settings.extracted_dir` usage.  Top 5 filtering + doc_ids filtering logic.  Context separator `---DOCUMENT_BOUNDARY---`. <br>**NİHAİ KARAR:** Claude'un RAG logic + Copilot'un NO_ANSWER_TEXT/excerpt/helper + Gemini'nin clean structure. Copilot'un `load_extracted_text` hallucination reddedildi. |
| **Geliştirme - Backend** | **Gemini, GitHub Copilot, Claude Code** | **AI Router - Final Hibrit Implementation ve Reddedilenler** | **Hibrit kod yazıldı - ai.py tamamlandı** | **KABUL EDİLENLER:** <br> Gemini: Clean code structure, error messages <br> Copilot: `NO_ANSWER_TEXT` constant, `_load_metadata()` helper, `excerpt` field (QASource) <br> Claude: `settings.extracted_dir`, RAG pipeline (search→read→context→LLM), empty text check, filtering logic <br><br>**REDDEDİLENLER:** <br> Gemini: Relative path (`DATA_DIR`), search service'ten direkt text alma varsayımı <br> Copilot: `load_extracted_text()` hallucination, `confidence` field (LLM vermiyor), exact string match (`if answer == NO_ANSWER_TEXT`) <br><br>**IMPLEMENTATION:** RAG Pipeline → TF-IDF search (classical, NO AI) → top 5 docs → text load from extracted/ → context build with separator → LLM Q&A (temperature=0.0, strict prompt from llm_service). Pydantic models (SummarizeRequest/Response, QARequest/Response, QASource) eklendi. Router main.py'de aktif edildi. |
| **Geliştirme - Frontend** | **Claude Code** | **Geist Font Kurulumu ve Konfigürasyonu** | **KISMEN BAŞARISIZ - Dosya Yazma Race Condition Hatası - DÖRDÜNCÜ AI EXECUTION HATASI** | **HATA TESPİTİ:** Claude Code, `@fontsource/geist-sans` paketini başarıyla kurdu ancak `main.jsx` ve `tailwind.config.js` dosyalarına font import/config yazamadı. <br>**SORUN:** Sürekli "File has been unexpectedly modified" hatası aldı. 4+ kez dosyayı okudu, her seferinde aynı içerik döndü, ancak Edit/Write işlemleri başarısız oldu. <br>**DENENDİ:** Read → Edit (başarısız), Bash cat → Edit (başarısız), Read → Write (başarısız - "dosya okunmadı" hatası). <br>**MUHTEMEL SEBEPLER:** IDE auto-save, linter/formatter (ESLint/Prettier), Vite HMR, veya Claude Code'un internal dosya lock mekanizması hatası. <br>**ÇÖZÜM:** Manuel edit gerekti. Kullanıcı `main.jsx`'e font importları (`@fontsource/geist-sans/400.css`, 500, 600, 700) ve `tailwind.config.js`'e font family config'i (`fontFamily: { sans: ['Geist Sans', ...] }`) manuel olarak ekledi. <br>**DERS:** Claude Code'un dosya yazma mekanizması, hızlı değişen dosyalarda (HMR/auto-save aktifken) race condition'a düşebilir. Kritik konfigürasyon dosyalarında manuel kontrol gerekli. **BU PROJENIN DÖRDÜNCÜ AI EXECUTION HATASI ÖRNEĞİDİR.** |
| **Tasarım - Frontend** | **Claude Code** | **Ocean Blue + Sand Renk Paleti ve Quiet UI Uygulaması** | **REDDEDİLDİ - REZALET TASARIM - BEŞİNCİ AI EXECUTION HATASI** | **HATA TESPİTİ:** Claude Code, kullanıcının seçtiği Ocean Blue + Sand renk paletini (`teal-700/800` + `amber-50/100`) ve Quiet UI card stilini uyguladı ancak **sonuç görsel olarak felaket**. <br>**SORUNLAR:** <br>1. **Border görünmezlik:** `border-amber-100` o kadar açık ki kartlar sanki kenarlıksız, UI elemanları birbirinden ayırt edilemiyor. <br>2. **Amber-50 arka plan renksiz:** Amber-50 neredeyse beyaz, "Sand" hissi vermiyor, sıcak ton yok. <br>3. **Dashed border çirkinliği:** FileUpload drag-drop kutusu `border-2 border-dashed` kesik çizgilerle 1995 HTML görünümü. <br>4. **Kartlar belli değil:** DocumentList'te kartların aralarında görsel ayrım yok, düz liste gibi. <br>5. **Genel izlenim:** Modern web uygulaması değil, eski HTML form gibi. <br>**AI'NIN HATASI:** Claude Code, Tailwind color scale'i yanlış değerlendirdi. `amber-50` çok açık (neredeyse beyaz - #FFFBEB), `amber-100` da çok açık (#FEF3C7). **AI, renk paletini kod olarak doğru yazdı ama görsel sonucu test etmedi/görmedi.** Tailwind'in default color scale'inde 50/100 tonları arka plan için fazla soluk. <br>**İNSAN MÜDAHALESİ GEREKLİ:** Tasarım insan tarafından revize edilecek. Amber tonları daha koyu (amber-100 → amber-200), border daha belirgin (amber-100 → gray-200/amber-200), dashed border kaldırılacak (solid border), kartlar daha belirgin shadow ve spacing ile ayrılacak. <br>**DERS:** AI, color theory ve Tailwind scale'ini bilse de **görsel sonucu göremez**. Tasarım kararlarında AI'a güvenmek yerine human testing şart. Renk tonlarının gerçek görünümü (50 vs 100 vs 200) ancak tarayıcıda test edilerek anlaşılır. **BU PROJENIN BEŞİNCİ AI EXECUTION HATASI ÖRNEĞİDİR - İLK TASARIM EXECUTION HATASI.** |
| **Tasarım - Frontend** | **Claude Code + ChatGPT** | **UI/UX Tasarım Yaklaşımı ve Yeniden Değerlendirme** | **Claude'un ilk tasarımı reddedildi - ChatGPT ile akademik kullanım odaklı tasarım çerçevesi tanımlandı** | **Claude Code:** Görsel olarak zengin ve modern bir arayüz yaklaşımı önerdi (Ocean Blue + Sand paleti, Quiet UI cards, responsive spacing, Geist font). Ancak implementation sonucu **akademik kullanım senaryosuna uygun değildi**. <br>**SORUN:** Claude'un önerdiği tasarım, akademik doküman okuma ve uzun süreli kullanım için gereksiz görsel karmaşıklık içeriyordu. Renk tonları (amber-50/100) fazla soluk, kartlar belli değil, genel görünüm profesyonel değil. <br>**ChatGPT'ye Danışma:** Projenin hedef kullanıcı profili (akademik araştırmacılar, uzun doküman okuma) ve içerik ağırlıklı doğası göz önüne alınarak, tasarım kararları ChatGPT ile birlikte yeniden yapılandırıldı. <br>**NİHAİ KARAR:** ChatGPT'nin önerileri doğrultusunda daha sade ve okuma odaklı bir tasarım çerçevesi tanımlandı. Claude bu çerçeve doğrultusunda yeniden yönlendirilecek. Tasarım Human-written commit ile revize edilecek. |
| **Tasarım - Frontend** | **ChatGPT + Claude Code (Implementation)** | **Renk Paleti Değişikliği: Ocean Blue + Sand → Neutral + Teal** | **İNSAN KARARI: Ocean Blue + Sand paleti reddedildi, ChatGPT'nin Neutral + Teal paleti kabul edildi** | **SORUN:** Kullanıcı tarafından seçilen Ocean Blue + Sand paleti (`teal-700/800` + `amber-50/100/200`) implementation'da görsel olarak başarısız oldu (row 31). Amber tonları fazla soluk, kartlar görünmez, genel izlenim 1995 HTML. <br>**ChatGPT'NİN YENİ ÖNERİSİ - "Academic Minimalism with Modern Polish":** <br>→ Background: `slate-50` (light neutral, not pure white) <br>→ Primary Accent: `teal-700` (deep teal) <br>→ Text: `slate-900` (primary), `slate-600` (secondary) <br>→ Borders: `slate-200` (default), `slate-300` (hover) <br>→ Cards: `bg-white`, `border-slate-200`, `rounded-xl`, `shadow-sm` → `hover:shadow-md` <br>**GEREKÇE:** Notion, Linear, OpenAI Docs, Vercel Docs, GitHub Docs benzeri "quiet confidence". Sade, profesyonel, uzun okuma seanslarına uygun kontrast. Minimal gürültü, kognitif netlik. <br>**NİHAİ KARAR:** **Ocean Blue + Sand paleti tamamen terk edildi.** ChatGPT'nin Neutral + Teal paleti kabul edildi. **BU, İNSAN TARAFINDAN SEÇİLEN BİR RENKPALETİNİN (row 23) İKİNCİ KEZ REDDEDİLMESİDİR.** İlk red: Gemini/ChatGPT/Copilot'un klasik blue/indigo önerileri. İkinci red: Kendi seçilen Ocean Blue + Sand. Üçüncü deneme: ChatGPT'nin profesyonel neutral paleti. |
| **Geliştirme - Frontend** | **Claude Code** | **Tüm Frontend Component'lerinin Komple Yeniden Yazılması** | **KABUL EDİLDİ - Tüm component'ler ChatGPT'nin tasarım çerçevesine göre baştan yazıldı** | **KARAR:** Claude Code'un önceki implementasyonu (row 31) çok kötü olduğu için, tüm frontend component'leri (`App.jsx`, `DocumentList.jsx`, `SearchResults.jsx`, `FileUpload.jsx`, `SearchBar.jsx`, `ThinkingLoader.jsx`) **komple silindi ve baştan yazıldı**. <br>**UYGULANAN ÇERÇEVE - ChatGPT'nin "Academic Minimalism with Modern Polish":** <br>1. **Color Palette:** Neutral + Teal (`slate-50/200/300/600/900` + `teal-700/800/900`) <br>2. **Cards:** `bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md hover:border-slate-300` <br>3. **Typography:** Geist Sans (single font), `text-slate-900` (headings), `text-slate-600` (body), comfortable line-height <br>4. **Spacing:** Generous vertical spacing (`space-y-8`, `py-10/16`), clear separation <br>5. **Borders:** Visible but subtle (`border-slate-200`), accent-tinted on hover (`border-slate-300`) <br>6. **Shadows:** Soft hierarchy (`shadow-sm` default, `shadow-md` hover) <br>7. **Loading States:** Clear text + subtle spinner, NO skeleton screens <br>8. **FileUpload:** Solid border (`border-2`, NO dashed), clean affordance, `rounded-xl` <br>9. **Focus States:** Strong ring (`focus:ring-2 focus:ring-teal-700`) <br>**SONUÇ:** UI artık Notion/Linear/GitHub Docs benzeri "quiet confidence" hissettiriyor. Cognitive clarity > visual impressiveness. **BU, CLAUDE CODE'UN ALTINCI AI EXECUTION HATASI ÖRNEĞİDİR - Frontend implementation'ın tamamen başarısız olup komple yeniden yazılma gerekliliği.** |
| **Geliştirme - Frontend** | **İNSAN** | **Tailwind CSS 4.x Konfigürasyon Hatası Tespiti ve Düzeltilmesi** | **İNSAN TARAFINDAN TESPİT EDİLDİ - YEDİNCİ AI EXECUTION HATASI** | **HATA TESPİTİ:** Tüm frontend component'leri doğru yazıldı (slate/teal renkleri, border-slate-200, bg-white, vb.) ancak **tarayıcıda hiç stil görünmedi - sadece HTML iskelet**. <br>**SORUN:** Vite dev server çalışıyor, kod doğru, ama Tailwind CSS **compile olmuyor**. UI tamamen stilsiz (sadece siyah metin, kenarlıksız input'lar, sıfır spacing). <br>**KÖK SEBEP:** **Tailwind CSS 4.x konfigürasyon hatası.** Projede `tailwind.config.js` dosyası vardı (Tailwind 3.x tarzı) ancak `package.json`'da `tailwindcss: ^4.1.18` ve `@tailwindcss/postcss: ^4.1.18` kurulu. **Tailwind 4.x'te `tailwind.config.js` artık kullanılmıyor!** <br>**Tailwind 4.x YENİ SİSTEM:** <br>→ Config dosyası YOK (`tailwind.config.js` silinmeli) <br>→ CSS içinde `@import "tailwindcss"` direktifi <br>→ Tema ayarları `@theme { }` bloğu içinde CSS custom properties ile (`--font-family-sans`, vb.) <br>**ESKI (Tailwind 3.x - YANLIŞ):** <br>`index.css`: `@tailwind base; @tailwind components; @tailwind utilities;` <br>`tailwind.config.js`: `export default { theme: { extend: { fontFamily: { sans: [...] } } } }` <br>**YENİ (Tailwind 4.x - DOĞRU):** <br>`index.css`: `@import "tailwindcss"; @theme { --font-family-sans: "Geist Sans", system-ui, sans-serif; }` <br>`tailwind.config.js`: **DOSYA SİLİNDİ** <br>**ÇÖZÜM:** İnsan kullanıcı, UI'ın stilsiz görünmesini fark edip nedeni araştırdı. Claude Code config versiyonlarını kontrol etti, `tailwind.config.js`'i sildi, `index.css`'i Tailwind 4.x formatına güncelledi, dev server yeniden başlatıldı. <br>**AI'NIN HATASI:** Claude Code, Tailwind CSS 4.x kullanılan bir projede Tailwind 3.x config dosyası varlığını tespit etmedi. Component'leri yazdığı halde stil çıkmadığını göremedi (çünkü AI output'u görmez). Vite build bile başarılı oldu (`index-CJcca7z1.css` oluştu) ama CSS içeriği compile edilmedi. <br>**DERS:** Framework major version değişikliklerinde (3.x → 4.x) config format değişiklikleri kritik. AI, paket versiyonlarını kontrol etse de, config dosyalarının varlığının sorun olabileceğini tahmin edemedi. Görsel output testi olmadan stil hatalarını tespit etmek imkansız. **BU PROJENIN YEDİNCİ AI EXECUTION HATASI ÖRNEĞİDİR - Konfigürasyon uyumsuzluğu nedeniyle tüm UI'ın render edilememesi.** |
| **Tasarım - Requirements** | **ChatGPT + Gemini + Copilot + Claude Code** | **Kullanıcı Hikayelerinin (User Stories) Oluşturulması - 4 AI Hibrit** | **HİBRİT YAKLAŞIM - Dört AI'ın en iyi önerilerini birleştir** | **ChatGPT:** 7 user story önerdi. BDD formatı mükemmel (Given/When/Then), öncelikler net (Must/Should/Nice). **KRİTİK KATKI:** US-6'da "içerik dışı bilgi üretilmemelidir" kriteri ekleyerek AI hallucination prevention'ı açıkça belirtti. <br>**Gemini:** 6 user story. **KRİTİK KATKI:** "Snippet View" önerisi (US-7: arama sonuçlarında highlighted text) - kullanıcı deneyimini iyileştiren ekstra özellik. <br>**Copilot:** 6 user story, en detaylı BDD formatı. **KRİTİK KATKI:** Hata senaryoları açıkça belirtilmiş (timeout, geçersiz dosya, silme iptal, network failure). Error handling kriterleri diğer AI'larda eksik. <br>**Claude Code:** 2 yeni user story önerdi. **KRİTİK KATKI:** <br>→ **US-8 (Should Have):** Progress feedback for long operations - yükleme/AI işlemleri için progress bar, "AI is thinking" state, cancel button, network error handling. UX açısından önemli. <br>→ **US-9 (Nice to Have):** Search result relevance score display - TF-IDF skorlarını yüzde olarak gösterme, tooltip açıklama, düşük skor uyarısı. **Explainability** prensibi: kullanıcı algoritmanın neden o sonucu verdiğini anlar, güveni artar. <br>**HİBRİT KARAR:** <br>→ **Yapı:** ChatGPT'nin net BDD formatı temel alındı <br>→ **Hata Senaryoları:** Copilot'un timeout/error handling kriterleri eklendi <br>→ **UX Enhancement:** Gemini'nin snippet view önerisi kabul edildi (US-7, Nice to Have) <br>→ **Progress & Explainability:** Claude Code'un progress feedback (US-8) ve score transparency (US-9) önerileri eklendi <br>**SONUÇ:** **9 user story** oluşturuldu (4 Must Have, 2 Should Have, 3 Nice to Have). \ dosyası oluşturuldu. <br>**FARK:** Dört farklı AI'ın güçlü yönleri birleştirildi. ChatGPT structure + Copilot error handling + Gemini UX + Claude Code explainability. |
| **Tasarım - Requirements** | **ChatGPT + Gemini + Copilot + Claude Code** | **Kullanıcı Hikayelerinin (User Stories) Oluşturulması - 4 AI Hibrit** | **HİBRİT YAKLAŞIM - Dört AI'ın en iyi önerilerini birleştir** | **ChatGPT:** 7 user story önerdi. BDD formatı mükemmel (Given/When/Then), öncelikler net (Must/Should/Nice). **KRİTİK KATKI:** US-6'da "içerik dışı bilgi üretilmemelidir" kriteri ekleyerek AI hallucination prevention'ı açıkça belirtti. <br>**Gemini:** 6 user story. **KRİTİK KATKI:** "Snippet View" önerisi (US-7: arama sonuçlarında highlighted text) - kullanıcı deneyimini iyileştiren ekstra özellik. <br>**Copilot:** 6 user story, en detaylı BDD formatı. **KRİTİK KATKI:** Hata senaryoları açıkça belirtilmiş (timeout, geçersiz dosya, silme iptal, network failure). Error handling kriterleri diğer AI'larda eksik. <br>**Claude Code:** 2 yeni user story önerdi. **KRİTİK KATKI:** <br>→ **US-8 (Should Have):** Progress feedback for long operations - yükleme/AI işlemleri için progress bar, "AI is thinking" state, cancel button, network error handling. UX açısından önemli. <br>→ **US-9 (Nice to Have):** Search result relevance score display - TF-IDF skorlarını yüzde olarak gösterme, tooltip açıklama, düşük skor uyarısı. **Explainability** prensibi: kullanıcı algoritmanın neden o sonucu verdiğini anlar, güveni artar. <br>**HİBRİT KARAR:** <br>→ **Yapı:** ChatGPT'nin net BDD formatı temel alındı <br>→ **Hata Senaryoları:** Copilot'un timeout/error handling kriterleri eklendi <br>→ **UX Enhancement:** Gemini'nin snippet view önerisi kabul edildi (US-7, Nice to Have) <br>→ **Progress & Explainability:** Claude Code'un progress feedback (US-8) ve score transparency (US-9) önerileri eklendi <br>**SONUÇ:** **9 user story** oluşturuldu (4 Must Have, 2 Should Have, 3 Nice to Have). \ dosyası oluşturuldu. <br>**FARK:** Dört farklı AI'ın güçlü yönleri birleştirildi. ChatGPT structure + Copilot error handling + Gemini UX + Claude Code explainability. |
| **Tasarım - Requirements** | **ChatGPT + Gemini + Copilot + Claude Code** | **Kullanıcı Hikayelerinin (User Stories) Oluşturulması - 4 AI Hibrit** | **HİBRİT YAKLAŞIM - Dört AI'ın en iyi önerilerini birleştir** | **ChatGPT:** 7 user story önerdi. BDD formatı mükemmel (Given/When/Then), öncelikler net (Must/Should/Nice). **KRİTİK KATKI:** US-6'da "içerik dışı bilgi üretilmemelidir" kriteri ekleyerek AI hallucination prevention'ı açıkça belirtti. <br>**Gemini:** 6 user story. **KRİTİK KATKI:** "Snippet View" önerisi (US-7: arama sonuçlarında highlighted text) - kullanıcı deneyimini iyileştiren ekstra özellik. <br>**Copilot:** 6 user story, en detaylı BDD formatı. **KRİTİK KATKI:** Hata senaryoları açıkça belirtilmiş (timeout, geçersiz dosya, silme iptal, network failure). Error handling kriterleri diğer AI'larda eksik. <br>**Claude Code:** 2 yeni user story önerdi. **KRİTİK KATKI:** <br>→ **US-8 (Should Have):** Progress feedback for long operations - yükleme/AI işlemleri için progress bar, "AI is thinking" state, cancel button, network error handling. UX açısından önemli. <br>→ **US-9 (Nice to Have):** Search result relevance score display - TF-IDF skorlarını yüzde olarak gösterme, tooltip açıklama, düşük skor uyarısı. **Explainability** prensibi: kullanıcı algoritmanın neden o sonucu verdiğini anlar, güveni artar. <br>**HİBRİT KARAR:** <br>→ **Yapı:** ChatGPT'nin net BDD formatı temel alındı <br>→ **Hata Senaryoları:** Copilot'un timeout/error handling kriterleri eklendi <br>→ **UX Enhancement:** Gemini'nin snippet view önerisi kabul edildi (US-7, Nice to Have) <br>→ **Progress & Explainability:** Claude Code'un progress feedback (US-8) ve score transparency (US-9) önerileri eklendi <br>**SONUÇ:** **9 user story** oluşturuldu (4 Must Have, 2 Should Have, 3 Nice to Have). `docs/USER_STORIES.md` dosyası oluşturuldu. <br>**FARK:** Dört farklı AI'ın güçlü yönleri birleştirildi. ChatGPT structure + Copilot error handling + Gemini UX + Claude Code explainability. |
| **Tasarım - Frontend** | **-** | **Tab Navigation ve Test AI Loader Hatası Tespiti ve Düzeltilmesi** | **İNSAN TARAFINDAN TESPİT EDİLDİ - SEKİZİNCİ AI EXECUTION HATASI** | **HATA TESPİTİ:** Frontend backend ile başarıyla entegre oldu (doküman yükleme ve listeleme çalışıyor) ancak **iki UX/UI hatası tespit edildi**: <br>**1. Test AI Loader sekmesi aktif olmuyor:** Kullanıcı "Test AI Loader" butonuna bastığında sekme teal renge dönmüyor, Search sekmesi aktif kalıyor. <br>**2. "Analyzing..." sonsuz loading:** Test AI Loader sekmesinde ThinkingLoader component'i sürekli görünüyor, diğer sekmelere geçince de kapanmıyor. <br>**KÖK SEBEP:** `App.jsx` dosyasında tab navigation mantığı hatalı: <br>→ **Line 77:** "Test AI Loader" butonu `onClick={() => setShowThinking(!showThinking)}` kullanıyor - bu sadece ThinkingLoader'ı toggle ediyor, `activeTab` state'ini değiştirmiyor. Diğer sekmelerde (`documents`, `search`) `setActiveTab()` kullanılırken bu sekmede kullanılmamış. <br>→ **Line 132:** ThinkingLoader `showThinking && (...)` condition'ı ile render ediliyor - bu `activeTab` state'inden bağımsız çalışıyor, sekme değişimlerinden etkilenmiyor. <br>**ÇÖZÜM:** <br>→ "Test AI Loader" butonunu diğer sekmelerle tutarlı hale getirdik: `onClick={() => setActiveTab('test-ai')}` <br>→ Active state styling eklendi: `activeTab === 'test-ai' ? 'border-teal-700 text-teal-700' : '...'` <br>→ ThinkingLoader render condition'ını `activeTab === 'test-ai' && (...)` olarak değiştirdik <br>→ Tutarlı layout için ThinkingLoader'ı section ile sarmaladık <br>**AI'NIN HATASI:** Claude Code, tüm frontend component'lerini yazdığında (row 34) tab navigation pattern'ini tutarlı uygulamadı. İlk iki sekme (`documents`, `search`) doğru implement edilmişken, üçüncü sekme (`test-ai`) farklı bir yaklaşım (toggle mantığı) ile yazıldı. Bu, **pattern inconsistency** hatası - aynı UI paradigmasını (tab navigation) farklı şekillerde implement etmek. <br>**DERS:** AI, benzer UI pattern'lerini implement ederken tutarlılık sağlamalı. Eğer 2 sekme `activeTab` state kullanıyorsa, 3. sekme de aynı pattern'i kullanmalı. Pattern switching (state-based → toggle-based) UX bug'larına yol açar. **BU PROJENIN SEKİZİNCİ AI EXECUTION HATASI ÖRNEĞİDİR - UI pattern inconsistency nedeniyle tab navigation hatalı çalışması.** |
| **Geliştirme - Backend** | **Claude Code** | **Document Download Endpoint Eksikliği (GET /api/v1/documents/{doc_id}/download)** | **İNSAN TARAFINDAN TESPİT EDİLDİ - DOKUZUNCU AI EXECUTION HATASI** | **HATA TESPİTİ:** Arama sonuçlarında "View Document" butonu 404 hatası veriyor. Frontend `http://localhost:8000/api/v1/documents/{doc_id}/download` endpoint'ini çağırıyor ancak **backend'de bu endpoint hiç yazılmamış**. <br>**KÖK SEBEP:** `backend/app/routers/documents.py` dosyasında sadece şu endpoint'ler var: <br>→ `POST /documents/upload` - Doküman yükleme ✅ <br>→ `GET /documents` - Tüm dokümanları listeleme ✅ <br>→ `GET /documents/{doc_id}` - Doküman metadata'sı ✅ <br>→ `DELETE /documents/{doc_id}` - Doküman silme ✅ <br>**EKSİK:** `GET /documents/{doc_id}/download` - PDF dosyasını indirme ❌ <br>**AI'NIN HATASI:** Claude Code, backend router'ları yazarken (hybrid implementation) **CRUD operasyonlarını eksik bıraktı**. Download/view işlemi klasik bir CRUD operasyonudur (Read işleminin bir varyantı). AI, metadata'yı `GET /documents/{doc_id}` ile döndürüyor ama **asıl PDF dosyasını download etme endpoint'ini unutmuş**. <br>**ÇÖZÜM:** `FileResponse` kullanarak download endpoint eklendi: <br>```python<br>@router.get("/documents/{doc_id}/download")<br>async def download_document(doc_id: str):<br>    # Metadata'dan filename al<br>    # settings.upload_dir / f"{doc_id}.pdf" kontrol et<br>    # FileResponse(path, media_type='application/pdf', filename=...)<br>```<br>**DERS:** AI, REST API tasarlarken CRUD işlemlerinin tamamını (Create, Read, Update, Delete + Download/Export gibi varyantları) düşünmeli. Metadata dönmek ≠ Dosya download etmek. FastAPI'da `FileResponse` ile dosya servis etme klasik bir pattern'dir, AI bunu bilmesine rağmen unutmuş. **BU PROJENIN DOKUZUNCU AI EXECUTION HATASI ÖRNEĞİDİR - Eksik endpoint implementation.** |
| **Geliştirme - Frontend** | **Claude Code** | **Summarize Butonu Placeholder Alert Gösteriyor (AI Entegrasyonu Eksik)** | **İNSAN TARAFINDAN TESPİT EDİLDİ - ONUNCU AI EXECUTION HATASI** | **HATA TESPİTİ:** SearchResults component'inde "Summarize" butonu çalışmıyor - tıklandığında sadece placeholder alert gösteriyor: `"AI Summarization coming soon! Use Test AI Loader tab to see AI loading states."` <br>**KÖK SEBEP:** `SearchResults.jsx` Line 68-72: <br>```jsx<br><button onClick={() => alert('AI Summarization coming soon! ...')}>Summarize</button><br>```<br>**Backend'de AI summarization endpoint VAR:** `POST /api/v1/ai/summarize` (ai.py:52-113) <br>**Frontend'de API fonksiyonu VAR:** `summarizeDocument(docId, summaryType)` (api.js:144-171) <br>**ANCAK:** SearchResults component'i bu API'yi çağırmıyor, sadece placeholder alert gösteriyor! <br>**AI'NIN HATASI:** Claude Code, tüm frontend component'lerini baştan yazarken (row 34) **Summarize özelliğini TODO olarak bırakmış**. Backend hazır, API servis fonksiyonu hazır ama UI'da entegre edilmemiş. Bu, **incomplete feature implementation** - yarım bırakılmış özellik. <br>**ÇÖZÜM:** <br>→ `useState` ile `summaryLoading` ve `summaries` state'leri eklendi <br>→ `handleSummarize` async fonksiyonu yazıldı: `summarizeDocument(docId, 'short')` çağırıyor <br>→ Loading state: Button text "Summarizing..." olarak değişiyor, `disabled` state aktif <br>→ Summary display: Teal border'lı box içinde AI özeti gösteriliyor <br>→ Error handling: API hatası durumunda user-friendly alert <br>**DERS:** AI, bir özelliği implement ederken **end-to-end tamamlanmasını** sağlamalı. "Backend endpoint var + API helper var + UI button var" ≠ "Özellik çalışıyor". Button'un gerçekten API'yi çağırıp sonucu göstermesi lazım. Placeholder alert bırakmak, feature'ın yarım kalması demektir. **BU PROJENIN ONUNCU AI EXECUTION HATASI ÖRNEĞİDİR - Incomplete feature integration.** |
| **Geliştirme - Backend** | **Gemini, GitHub Copilot, Claude Code** | **Decommissioned Groq Model Kullanımı (llama3-8b-8192)** | **İNSAN TARAFINDAN TESPİT EDİLDİ - ONBİRİNCİ AI EXECUTION HATASI** | **HATA TESPİTİ:** Summarize özelliği düzeltilip test edildiğinde backend 500 Internal Server Error döndü. Backend log: <br>`Groq API error: The model 'llama3-8b-8192' has been decommissioned and is no longer supported.` <br>**KÖK SEBEP:** `backend/app/config.py` Line 32: `default_model: str = "llama3-8b-8192"` <br>Bu model Groq tarafından kullanımdan kaldırılmış (decommissioned). <br>**AI'NIN HATASI:** AI'lar (Gemini, Copilot, Claude) backend'i yazarken (row 12) **o zamanlar geçerli olan model ismini kullandılar** ancak **modelin gelecekte decommission edilebileceğini öngörmediler**. Kod yazıldığında model geçerliydi, ancak Groq'un deprecation policy'si nedeniyle sonradan kullanımdan kaldırıldı. <br>**SORUN:** AI'lar, third-party API'lerin deprecation/versioning policy'lerini takip etmiyor. Model isimleri hard-coded, API versiyonları güncel değil. <br>**ÇÖZÜM:** Model ismi `llama-3.1-8b-instant` olarak güncellendi (Groq'un önerdiği yeni model). Backend restart edildi. <br>**DERS:** <br>1. **Third-party API dependency riski:** AI'lar mevcut API'leri doğru kullanabilir ancak deprecation/versioning takip edemez. <br>2. **Hard-coded model/version isimleri sorunlu:** Config'de model ismi environment variable olarak dışarıya alınmalı (`.env` dosyasında değiştirilebilir). <br>3. **API versioning best practice:** Model/API versiyonlarını pinlemek yerine, config'de güncellenebilir yapmak daha sürdürülebilir. <br>4. **AI kod yazma zamanı vs runtime zamanı:** AI'nın yazdığı kod "o an" doğrudur ama API'ler değişir. Deprecation warning'leri ve API changelog'ları manuel takip gerektirir. <br>**HUMAN INTERVENTION:** Kullanıcı, Summarize'ın çalışmamasını test ederken backend log'larını inceledi ve Groq error mesajını gördü. Model ismini Groq docs'a göre güncelledi. <br>**BU PROJENIN ONBİRİNCİ AI EXECUTION HATASI ÖRNEĞİDİR - Third-party API deprecation/versioning bilgisi güncel olmama.** |
| **Test** | **Gemini** | **Test Senaryosu Üretimi** | **Mühendis Refleksi ile Filtrelendi (6 Kabul, 2 Red, 2 Düzeltme)** | **KABUL EDİLENLER:** <br>1. `test_summarize_short` (Kısa özet) <br>2. `test_summarize_detailed` (Detaylı özet) <br>3. `test_qa_factual` (Soru-cevap) <br>4. `test_qa_hallucination_prevention` (Kritik: Temperature=0.0 kontrolü) <br>5. `test_empty_input` (Boş metin) <br>6. `test_api_error_handling` (API hataları) <br><br>**REDDEDİLENLER:** <br>1. **Copilot Önerisi - `test_real_api_call` (Canlı API testi):** AI, "gerçek bağlantıyı test etmek" istedi. **Reddedildi.** Testler izole olmalı, dış ağa/kotaya bağlı olmamalı. <br>2. **Gemini Önerisi - `test_summary_in_french` (Çoklu dil):** AI, çeviri testi önerdi. **Reddedildi.** Proje kapsamı dışında (Scope Creep). <br><br>**DÜZELTİLEN HATALAR:** <br>1. **Hallucination:** Gemini `pytest-groq` kütüphanesi önerdi. Böyle bir kütüphane yok. `unittest.mock` ile değiştirildi. <br>2. **Mantık Hatası:** "tam kelime sayısı" kontrolü önerdi. LLM çıktıları deterministik olmadığı için esnek assertion kullanıldı. |
| **Geliştirme - Backend** | **Claude Code** | **Model güncelleme sadece config.py'de yapıldı, .env unutuldu** | **REDDEDİLDİ - 12. AI EXECUTION ERROR** | **Sorun:** Row 42'de model `llama3-8b-8192` → `llama-3.1-8b-instant` olarak güncellendi ancak sadece `config.py` değiştirildi. `.env` dosyasında `DEFAULT_MODEL=llama3-8b-8192` kaldı. Pydantic Settings `.env`'i öncelikli aldığı için backend yine eski modeli kullandı. <br>**AI Hatası:** Claude Code environment variable override mekanizmasını gözden kaçırdı. Config güncellemesi yapılırken `.env` dosyası kontrol edilmedi. <br>**Çözüm:** `.env` Line 23 güncellendi: `DEFAULT_MODEL=llama-3.1-8b-instant`. Backend restart edildi. <br>**Ders:** Pydantic Settings kullanan projelerde `.env` > `config.py default`. İkisi de senkronize olmalı. |
| **Geliştirme - Backend** | **Gemini + Copilot + Claude (Hibrit)** | **Duplicate schema tanımları: QASource vs Source conflict** | **REDDEDİLDİ - 13. AI EXECUTION ERROR** | **Sorun:** `schemas.py`'de `QAResponse` iki kez tanımlanmış (Line 80, 124). İlki `List[QASource]` + `model_used` yok, ikincisi `List[Source]` + `model_used` var. Router `QASource` kullanıyor ama response `Source` bekliyor → Pydantic validation error. <br>**AI Hatası:** Hibrit implementation sırasında farklı AI'ların önerileri merge edilirken duplicate schema temizlenmedi. <br>**Çözüm:** İlk set (Lines 51-84) silindi. `ai.py` import ve usage `QASource` → `Source` değiştirildi. Tüm QAResponse return'lere `model_used` field eklendi. <br>**Ders:** Hibrit kod birleştirmede duplicate detection ve schema consistency şart. |
| **Test** | **AI Agent (Gemini)** | **PDF Service Unit Test Mocking** | **DÜZELTİLDİ - 14. AI EXECUTION ERROR** | **Sorun:** `test_pdf_service.py` yazılırken AI, PyMuPDF (`fitz`) kütüphanesini mockladı ancak `doc` objesinin iterable yapısını (`for page in doc`) simüle etmeyi unuttu. Sadece `get_text` mocklandı. <br>**AI Hatası:** Mock objesine `__len__` ve `__getitem__` metodlarını eklemediği için döngü çalışmadı ve `full_text` boş string döndü. <br>**Çözüm:** İnsan müdahalesi (Agent) ile mock objesine `mock_doc.__len__` ve `mock_doc.__getitem__` özellikleri eklenerek test geçirildi. |
| **Test** | **AI Agent (Gemini)** | **LLM Service Client Patching** | **DÜZELTİLDİ - 15. AI EXECUTION ERROR** | **Sorun:** `test_edge_cases.py` yazılırken AI, `client` objesinin modül seviyesinde global bir değişken olduğunu varsaydı (`@patch("app.services.llm_service.client")`). <br>**AI Hatası:** Oysa `client`, `LLMService` sınıfının bir instance attribute'uydu (`self.client`). Bu yüzden `AttributeError` alındı. <br>**Çözüm:** Yama yöntemi `patch.object(llm_service, 'client')` olarak değiştirildi. |

| **Geliştirme - Backend** | **Claude Code** | **Text File Support Implementation (.txt, .md)** | **KABUL EDİLDİ - Feature expansion** | **Kullanıcı talebi:** "Kullanıcı tarafından doküman yükleme (PDF veya metin) biz şuan sistemde sadece pdf yükleyebiliyoruz" <br>**Claude Code önerisi:** Backend `documents.py` endpoint'lerini genişlet - file extension validation (`.pdf`, `.txt`, `.md`), conditional text extraction (PDF: PyMuPDF, Text: UTF-8 read), metadata handling (page_count = None for text files), download endpoint media type mapping. <br>**Implementation:** <br>→ Upload endpoint: `ALLOWED_EXTENSIONS = {'.pdf', '.txt', '.md'}`, file extension based processing <br>→ Download endpoint: Media type map (`.pdf` → `application/pdf`, `.txt` → `text/plain`, `.md` → `text/markdown`) <br>→ Delete endpoint: Extension-aware file cleanup <br>→ Frontend: FileUpload validation updated, accept attribute expanded <br>**Test ediliyor:** Backend auto-reload ile değişiklikler alındı, frontend Vite HMR ile güncellendi. <br>**Sonuç:** Sistem artık 3 dosya formatını destekliyor. |
| **Geliştirme - Frontend** | **Claude Code + User (Hibrit)** | **UI Modernization - Gradient backgrounds, glass effects, modern card designs** | **KABUL EDİLDİ - Ancak kullanıcı önemli düzeltmeler yaptı** | **Kullanıcı talebi:** ""UI'ın grid layout'ları, card tasarımları ve görsel hiyerarşisi modernize edilmeli. Arka planlarda görseller, yuvarlak köşeli section'lar ve çekici ama profesyonel (emoji-siz) bir tasarım dili uygulanmalı" <br>**Claude Code yaklaşımı:** <br>→ Header: Dark gradient (`from-slate-900 via-slate-800 to-teal-900`), SVG pattern background <br>→ Background: Gradient (`bg-gradient-to-br from-slate-50 via-white to-teal-50`) <br>→ Tabs: Glass effect (`bg-white/80 backdrop-blur-sm`), active tab with gradient + shadow <br>→ Cards: Gradient backgrounds, depth shadows, hover scale transforms <br>→ FileUpload: Dashed border, gradient icon, pattern background <br>→ DocumentList: Color-coded file icons (PDF=red, TXT=blue, MD=purple), gradient buttons <br>**SORUN:** Kullanıcı önemli UI hataları gördü - `ToastContext` ve `Skeleton` import hataları, animasyon delay syntax, linter düzeltmeleri gerekti. <br>**Çözüm:** Kullanıcı `ToastContext` ve `Skeleton` component'lerini ekledi, animasyon CSS'i düzeltti, linter önerilerini kabul etti. <br>**Sonuç:** Modern glassmorphism + gradient UI tamamlandı - ama kullanıcı müdahalesi gerektirdi. |
| **Geliştirme - Frontend** | **Claude Code** | **BulkSummarize Component - API Response Handling Bug** | **DÜZELTİLDİ - 16. AI EXECUTION ERROR** | **Sorun:** `BulkSummarize.jsx` component'i `getDocuments()` API'sinden dönen response'u yanlış işledi. API `{documents: [...], total: N}` objesi döndürüyor ama component direkt `documents` array'i bekliyordu → `documents.map is not a function` runtime error. <br>**AI Hatası:** Claude Code, `api.js`'deki `getDocuments()` response formatını kontrol etmedi. Component'te `setDocuments(docs)` yazdı ama `docs` bir obje, array değil. <br>**Çözüm:** `loadDocuments` fonksiyonu düzeltildi: `setDocuments(response.documents \|\| [])` <br>**Ders:** API response structure'ını bilmeden component yazmak runtime error'a yol açar. AI, API contract'ını (response shape) her zaman doğru kontrol etmeli. |
| **Geliştirme - Backend** | **Claude Code** | **TF-IDF Turkish Character Normalization** | **KABUL EDİLDİ - Unicode normalization added** | **Sorun:** TF-IDF arama "bitirme" kelimesini bulamıyor ama "ara" kelimesini buluyor. **Kök Sebep:** Python'un default `.lower()` fonksiyonu Türkçe karakterleri doğru dönüştürmüyor: `"BİTİRME".lower()` → `"bi̇tirme"` (noktalı i) ama klavyeden "bitirme" (nokta yok) yazılıyor → eşleşme yok. <br>**AI Önerisi:** Claude Code 3 seçenek sundu: (1) unidecode (ASCII normalization), (2) Turkish locale, (3) Custom analyzer. Kullanıcıyla birlikte **Seçenek 1 (unidecode)** seçildi - hem İngilizce hem Türkçe destekler, platform bağımsız, minimal performans etkisi. <br>**Implementasyon:** `search_service.py`'ye `from unidecode import unidecode` eklendi, `TfidfVectorizer(preprocessor=lambda text: unidecode(text).lower())` yapıldı. `requirements.txt`'e `unidecode==1.3.7` eklendi. <br>**Test:** "bitirme" araması şimdi başarılı → `{'query': 'bitirme', 'results': [{'doc_id': '...', 'score': 0.0411, ...}], 'total_found': 1}` <br>**Trade-off:** Türkçe karakterler ASCII'ye dönüşüyor ("ç" → "c", "ş" → "s") ama TF-IDF için yeterli. <br>**Ders:** Çok dilli arama sistemlerinde Unicode normalization kritik. Python'un default string metodları locale-aware değil. |

# User Stories - AI Document Search System

**Project:** BIL440 Final - Intelligent Document Search and Summarization System
**Generated by:** ChatGPT + Gemini + GitHub Copilot (AI-assisted)
**Format:** BDD (Given/When/Then)

---

## US-1: Multi-Format Document Upload (PDF, TXT, MD)

**Priority:** Must Have
**AI Contributors:** ChatGPT, Gemini, Copilot, Claude Code

### User Story
As an academic researcher,
I want to upload documents in multiple formats (PDF, TXT, MD),
So that I can analyze and search different types of content digitally.

### Acceptance Criteria (BDD)

**Given** kullanıcı sistemdeyken
**When** geçerli bir PDF dosyası yüklediğinde
**Then** doküman sistemde saklanmalı
**And** doküman listesinde adıyla görünmelidir
**And** yükleme başarısızsa kullanıcı bilgilendirilmelidir

**Given** kullanıcı .txt veya .md dosyası yüklediğinde
**When** dosya yükleme tamamlandığında
**Then** metin içeriği başarıyla extract edilmeli
**And** doküman listesinde dosya tipi ikonu gösterilmeli (PDF/TXT/MD)
**And** text dosyaları için page_count null olmalıdır

**Given** geçersiz dosya tipi (örn: .exe, .docx)
**When** kullanıcı yüklemeye çalıştığında
**Then** sistem hata mesajı verir ve dosya reddedilir

**Given** dosya boyutu 10MB'dan büyük
**When** yükleme denendiğinde
**Then** "Max 10MB file size" hatası gösterilir

---

## US-2: Document List & Delete

**Priority:** Must Have
**AI Contributors:** ChatGPT, Gemini, Copilot

### User Story
As a researcher,
I want to see a list of uploaded documents and delete unnecessary ones,
So that I can keep my workspace clean and organized.

### Acceptance Criteria (BDD)

**Given** sistemde yüklü dokümanlar vardır
**When** kullanıcı "Dokümanlarım" paneline girdiğinde
**Then** tüm dokümanlar (dosya ismi, yükleme tarihi) listelenmelidir

**Given** kullanıcı bir dokümanın "Sil" butonuna bastığında
**When** silme işlemini onayladığında
**Then** doküman sistemden kalıcı olarak silinmelidir
**And** liste anında güncellenmelidir

**Given** kullanıcı silmeyi iptal ederse
**When** onay diyalogu kapatıldığında
**Then** doküman korunur

---

## US-3: TF-IDF Keyword Search

**Priority:** Must Have
**AI Contributors:** ChatGPT, Gemini, Copilot

### User Story
As a professional,
I want to search documents using keywords,
So that I can quickly find relevant information.

### Acceptance Criteria (BDD)

**Given** sistemde en az bir doküman yüklüyken
**When** kullanıcı bir anahtar kelime arattığında
**Then** sistem TF-IDF tabanlı arama yapmalıdır
**And** eşleşen dokümanlar sıralı şekilde gösterilmelidir
**And** her sonuçta ilgili metin snippet'i (highlighted) gösterilir

**Given** çoklu kelime araması yapıldığında
**When** sorgu gönderilir
**Then** sonuçlar çoklu kelime eşleşmesine göre derecelendirilir (case-insensitive)

**Given** sonuç bulunamazsa
**When** arama tamamlanır
**Then** kullanıcıya "No results found" bildirimi gösterilir

---

## US-4: AI-Powered Short Summary

**Priority:** Must Have
**AI Contributors:** ChatGPT, Gemini, Copilot

### User Story
As an academic researcher,
I want to get a short AI-generated summary of a document,
So that I can understand its main idea quickly.

### Acceptance Criteria (BDD)

**Given** kullanıcı bir dokümanı seçtiğinde
**When** "Kısa Özet" talep ettiğinde
**Then** sistem AI ile kısa bir özet üretmelidir (~150 kelime)
**And** özet yalnızca doküman içeriğine dayanmalıdır
**And** özet ekranda okunabilir şekilde gösterilmelidir

**Given** özetleme servisi yanıt vermezse
**When** zaman aşımı olur
**Then** kullanıcıya hata/yeniden dene mesajı verilir

---

## US-5: AI-Powered Detailed Summary

**Priority:** Should Have
**AI Contributors:** ChatGPT, Gemini, Copilot

### User Story
As an academic researcher,
I want to get a detailed AI-generated summary,
So that I can analyze the document without reading it fully.

### Acceptance Criteria (BDD)

**Given** kullanıcı bir dokümanı seçtiğinde
**When** "Detaylı Özet" istediğinde
**Then** sistem daha kapsamlı bir özet üretmelidir (400-600 kelime)
**And** özet bölüm başlıklarını ve kritik bulguları içermelidir
**And** kullanıcı isterse özeti kapatabilmelidir

---

## US-6: Document-Based Q&A with Source Attribution (AI + RAG)

**Priority:** Must Have
**AI Contributors:** ChatGPT, Gemini, Copilot, Claude Code

### User Story
As an academic researcher,
I want to ask questions in natural language and receive answers with clear source attribution,
So that I can verify the information and trust the AI-generated responses.

### Acceptance Criteria (BDD)

**Given** sistemde en az bir doküman yüklüyken
**When** kullanıcı doğal dilde bir soru sorduğunda
**Then** sistem yalnızca doküman içeriğine dayalı cevap üretmelidir
**And** cevap hangi doküman(lar)a dayandığını belirtmelidir
**And** içerik dışı bilgi üretilmemelidir (AI hallucination prevention)

**Given** AI cevap ürettiğinde
**When** cevap ekranda gösterildiğinde
**Then** her cevapla birlikte kaynak dokümanların listesi gösterilmelidir
**And** kaynak dokümanlardan alınan excerpt'ler (text snippets) vurgulanmalıdır
**And** kullanıcı kaynak dokümanı tıklayarak orijinal içeriğe gidebilmelidir
**And** RAG pipeline'ın hangi dokümanları kullandığı şeffaf olmalıdır

**Given** soru doküman kapsamı dışında ise
**When** sistem yanıtlayamıyorsa
**Then** "Dokümanda yanıt bulunamadı" şeklinde açık geri bildirim döner
**And** NO_ANSWER_TEXT constant kullanılarak hallucination engellenir

**Given** belirsiz veya çok genel bir soru varsa
**When** kullanıcı soruyu gönderirse
**Then** sistem takip sorusu sorarak daha fazla bağlam ister

---

## US-7: Search Results with Snippet Highlight

**Priority:** Nice to Have
**AI Contributors:** Gemini, Copilot

### User Story
As a user,
I want to see highlighted snippets in search results,
So that I can decide if the result is relevant without opening the document.

### Acceptance Criteria (BDD)

**Given** arama sonuçları listelenmiştir
**When** kullanıcı sonuçlara baktığında
**Then** her doküman başlığının altında aranan terimin geçtiği ilgili cümle (highlighted) gösterilmelidir

**Given** bir sonuç seçildiğinde
**When** kullanıcı sonuca tıkladığında
**Then** doküman görüntüleyici ilgili sayfayı/konumu açar ve vurgu gösterilir

---

## US-8: Progress Feedback for Long Operations

**Priority:** Should Have
**AI Contributors:** Claude Code

### User Story
As a user,
I want to see clear progress indicators during long operations (upload, AI processing),
So that I know the system is working and can estimate completion time.

### Acceptance Criteria (BDD)

**Given** kullanıcı bir PDF yüklediğinde
**When** yükleme devam ederken
**Then** progress bar veya yüzde gösterilmeli (örn: "Uploading... 45%")
**And** işlem tamamlandığında başarı mesajı gösterilmeli

**Given** AI özet veya soru-cevap işlemi başlatıldığında
**When** AI yanıt üretirken
**Then** "AI is thinking..." loading state gösterilmeli
**And** kullanıcı işlemi iptal edebilmelidir (optional cancel button)

**Given** ağ bağlantısı kesilirse
**When** uzun işlem sırasında bağlantı kaybedildiğinde
**Then** kullanıcıya net hata mesajı verilmeli ve yeniden deneme seçeneği sunulmalı

---

## US-9: Search Result Relevance Score Display

**Priority:** Nice to Have
**AI Contributors:** Claude Code

### User Story
As a researcher,
I want to see relevance scores for search results,
So that I can understand why certain documents ranked higher and trust the search algorithm.

### Acceptance Criteria (BDD)

**Given** arama sonuçları listelendiğinde
**When** kullanıcı sonuçlara baktığında
**Then** her sonuç için TF-IDF skoru yüzde olarak gösterilmeli (örn: "85% match")
**And** skorlar yüksekten düşüğe sıralanmalıdır

**Given** kullanıcı bir skor badge'ine hover yaptığında
**When** fare skor üzerine geldiğinde
**Then** tooltip ile açıklama gösterilir: "Relevance score based on keyword frequency"

**Given** skorlar çok düşükse (örn: <30%)
**When** sonuçlar gösterildiğinde
**Then** kullanıcıya "Low relevance - consider different keywords" uyarısı verilir

---

## US-10: Bulk Document Summarization

**Priority:** Nice to Have
**AI Contributors:** Claude Code

### User Story
As a researcher managing multiple documents,
I want to summarize all documents at once,
So that I can get an overview of my entire document collection efficiently.

### Acceptance Criteria (BDD)

**Given** sistemde birden fazla doküman yüklüyken
**When** kullanıcı "Tümünü Özetle" butonuna bastığında
**Then** tüm dokümanlar için kısa özetler paralel olarak üretilmelidir
**And** her özet doküman adıyla birlikte gösterilmelidir
**And** özetler generation sırasında progress indicator gösterilmelidir

**Given** bulk summarization başlatıldığında
**When** işlem devam ederken
**Then** kullanıcı işlemi iptal edebilmelidir (cancel button)
**And** zaten üretilmiş özetler korunmalıdır

**Given** bir veya daha fazla doküman özetlenirken hata oluşursa
**When** işlem tamamlandığında
**Then** başarılı özetler gösterilmeli ve başarısız olanlar için hata mesajı verilmelidir

---

## US-11: AI Hallucination Example Logging & Analysis

**Priority:** Must Have (Project Requirement)
**AI Contributors:** ChatGPT, Claude Code

### User Story
As a developer and researcher,
I want to log and review incorrect AI-generated outputs,
So that I can analyze AI limitations, document them in the project report, and improve system reliability.

### Acceptance Criteria (BDD)

**Given** AI bir hallucination (yanlış/uydurma cevap) ürettiğinde
**When** sistem bunu tespit ettiğinde veya kullanıcı raporladığında
**Then** hallucination örneği AI_DECISION_LOG.md dosyasına kaydedilmelidir
**And** hata türü (API hallucination, pattern inconsistency, config error) sınıflandırılmalıdır
**And** root cause (kök sebep) açıklanmalıdır

**Given** geliştirme sürecinde en az 1 AI execution error tespit edildiğinde
**When** error raporlandığında
**Then** şu bilgiler dokümante edilmelidir:
- Kullanılan AI aracı
- AI'nın önerisi/çıktısı
- Hatanın ne olduğu
- İnsan müdahalesinin nasıl yapıldığı
- Öğrenilen ders (lesson learned)

**Given** proje teslimi hazırlanırken
**When** AI Decision Log gözden geçirildiğinde
**Then** en az 16 AI execution error belgelenmiş olmalıdır (Project requirement met)
**And** her error için gerekçe ve çözüm açıkça belirtilmelidir

---

## Summary

| Priority | Count | User Stories |
|----------|-------|-------------|
| Must Have | 5 | US-1, US-2, US-3, US-6, US-11 |
| Should Have | 2 | US-5, US-8 |
| Nice to Have | 4 | US-4 (can be upgraded to Must), US-7, US-9, US-10 |

**Total:** 11 User Stories

**AI Contribution:**
- ChatGPT: Structure, BDD format, hallucination prevention criteria, AI error logging
- Gemini: Snippet view suggestion, Turkish-English hybrid clarity
- Copilot: Error handling scenarios, timeout handling, detailed edge cases
- Claude Code: Progress feedback UX, relevance score transparency (explainability), bulk operations, source attribution
